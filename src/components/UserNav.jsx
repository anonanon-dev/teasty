import { useState } from 'react';
import UserIcon from './icons/UserIcon';
import styles from './navbar.module.css';
import { FaArrowRight } from 'react-icons/fa';
import { useDispatch } from 'react-redux';
import { logout } from '../Authentication/userSlice';

function UserNav() {
  const [droped, setDroped] = useState(false);

  const dispatch = useDispatch();

  function handleLogout(e) {
    e.preventDefault();
    dispatch(logout());
    // Optionally redirect to login page or home page
    // or use a navigation method if you're using React Router
  }
  return (
    <div
      className={styles.userIcons}
      onMouseEnter={() => setDroped(true)}
      onMouseLeave={() => setDroped(false)}
    >
      <UserIcon />
      {droped && (
        <div className={styles.userMenu}>
          <ul>
            <li>
              <div className={styles.userMenuLi}>
                <img src='/Rectangle157.jpg' />
                <span>MY PROFILE</span>
              </div>
              <div className={styles.arrowDiv}>
                <FaArrowRight />
              </div>
            </li>
            <li>
              <div className={styles.userMenuLi}>
                <div className={styles.profilepic}>
                  <svg
                    width='24'
                    height='24'
                    viewBox='0 0 24 24'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                  >
                    <path
                      d='M19.42 11.75H16C15.59 11.75 15.25 11.41 15.25 11V4.01C15.25 3.27 15.54 2.58 16.06 2.06C16.58 1.54 17.27 1.25 18.01 1.25H18.02C19.27 1.26 20.45 1.75 21.35 2.64C22.25 3.55 22.74 4.75 22.74 6V8.42C22.75 10.41 21.41 11.75 19.42 11.75ZM16.75 10.25H19.42C20.58 10.25 21.25 9.58 21.25 8.42V6C21.25 5.14 20.91 4.32 20.3 3.7C19.69 3.1 18.88 2.76 18.02 2.75C18.02 2.75 18.02 2.75 18.01 2.75C17.68 2.75 17.36 2.88 17.12 3.12C16.88 3.36 16.75 3.67 16.75 4.01V10.25Z'
                      fill='white'
                    />
                    <path
                      d='M8.99976 23.33C8.52976 23.33 8.08977 23.15 7.75977 22.81L6.09973 21.14C6.00973 21.05 5.86978 21.04 5.76978 21.12L4.05975 22.4C3.52975 22.8 2.82974 22.87 2.22974 22.57C1.62974 22.27 1.25977 21.67 1.25977 21V6C1.25977 2.98 2.98977 1.25 6.00977 1.25H18.0098C18.4198 1.25 18.7598 1.59 18.7598 2C18.7598 2.41 18.4198 2.75 18.0098 2.75C17.3198 2.75 16.7598 3.31 16.7598 4V21C16.7598 21.67 16.3897 22.27 15.7897 22.57C15.1997 22.87 14.4898 22.8 13.9598 22.4L12.2498 21.12C12.1498 21.04 12.0097 21.06 11.9297 21.14L10.2498 22.82C9.90976 23.15 9.46976 23.33 8.99976 23.33ZM5.90973 19.57C6.36973 19.57 6.81973 19.74 7.15973 20.09L8.81976 21.76C8.87976 21.82 8.95976 21.83 8.99976 21.83C9.03976 21.83 9.11975 21.82 9.17975 21.76L10.8597 20.08C11.4797 19.46 12.4598 19.4 13.1498 19.93L14.8497 21.2C14.9597 21.28 15.0597 21.25 15.1097 21.22C15.1597 21.19 15.2498 21.13 15.2498 21V4C15.2498 3.55 15.3597 3.12 15.5497 2.75H5.99976C3.77976 2.75 2.74976 3.78 2.74976 6V21C2.74976 21.14 2.83977 21.2 2.88977 21.23C2.94977 21.26 3.04978 21.28 3.14978 21.2L4.85974 19.92C5.16974 19.69 5.53973 19.57 5.90973 19.57Z'
                      fill='white'
                    />
                    <path
                      d='M12 9.75H6C5.59 9.75 5.25 9.41 5.25 9C5.25 8.59 5.59 8.25 6 8.25H12C12.41 8.25 12.75 8.59 12.75 9C12.75 9.41 12.41 9.75 12 9.75Z'
                      fill='white'
                    />
                    <path
                      d='M11.25 13.75H6.75C6.34 13.75 6 13.41 6 13C6 12.59 6.34 12.25 6.75 12.25H11.25C11.66 12.25 12 12.59 12 13C12 13.41 11.66 13.75 11.25 13.75Z'
                      fill='white'
                    />
                  </svg>
                </div>
                <span>MY ORDER</span>
              </div>
              <div className={styles.arrowDiv}>
                <FaArrowRight />
              </div>
            </li>
            <li>
              <div className={styles.userMenuLi}>
                <div className={styles.profilepic}>
                  <svg
                    width='24'
                    height='24'
                    viewBox='0 0 24 24'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                  >
                    <path
                      d='M12.9998 14.75H11.9998C11.5898 14.75 11.2498 14.41 11.2498 14C11.2498 13.59 11.5898 13.25 11.9998 13.25H12.9998C13.6898 13.25 14.2498 12.69 14.2498 12V2.75H5.99978C4.81978 2.75 3.73975 3.38998 3.15975 4.41998C2.95975 4.77998 2.49979 4.91002 2.13979 4.71002C1.77979 4.51002 1.64975 4.05 1.84975 3.69C2.68975 2.19 4.27978 1.25 5.99978 1.25H14.9998C15.4098 1.25 15.7498 1.59 15.7498 2V12C15.7498 13.52 14.5198 14.75 12.9998 14.75Z'
                      fill='white'
                    />
                    <path
                      d='M19 20.75H18C17.59 20.75 17.25 20.41 17.25 20C17.25 19.31 16.69 18.75 16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.41 14.41 20.75 14 20.75H10C9.59 20.75 9.25 20.41 9.25 20C9.25 19.31 8.69 18.75 8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.41 6.41 20.75 6 20.75H5C2.93 20.75 1.25 19.07 1.25 17C1.25 16.59 1.59 16.25 2 16.25C2.41 16.25 2.75 16.59 2.75 17C2.75 18.24 3.76 19.25 5 19.25H5.34998C5.67998 18.1 6.74 17.25 8 17.25C9.26 17.25 10.32 18.1 10.65 19.25H13.36C13.69 18.1 14.75 17.25 16.01 17.25C17.27 17.25 18.33 18.1 18.66 19.25H19C20.24 19.25 21.25 18.24 21.25 17V14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.03 8.25 19 8.25L17.93 6.38C17.71 5.99 17.29 5.75 16.84 5.75H15.75V12C15.75 13.52 14.52 14.75 13 14.75H12C11.59 14.75 11.25 14.41 11.25 14C11.25 13.59 11.59 13.25 12 13.25H13C13.69 13.25 14.25 12.69 14.25 12V5C14.25 4.59 14.59 4.25 15 4.25H16.84C17.83 4.25 18.74 4.78001 19.23 5.64001L20.94 8.63C21.07 8.86 21.07 9.15 20.94 9.38C20.81 9.61 20.56 9.75 20.29 9.75H19C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H22C22.41 13.25 22.75 13.59 22.75 14V17C22.75 19.07 21.07 20.75 19 20.75Z'
                      fill='white'
                    />
                    <path
                      d='M8 22.75C6.48 22.75 5.25 21.52 5.25 20C5.25 18.48 6.48 17.25 8 17.25C9.52 17.25 10.75 18.48 10.75 20C10.75 21.52 9.52 22.75 8 22.75ZM8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.69 7.31 21.25 8 21.25C8.69 21.25 9.25 20.69 9.25 20C9.25 19.31 8.69 18.75 8 18.75Z'
                      fill='white'
                    />
                    <path
                      d='M16 22.75C14.48 22.75 13.25 21.52 13.25 20C13.25 18.48 14.48 17.25 16 17.25C17.52 17.25 18.75 18.48 18.75 20C18.75 21.52 17.52 22.75 16 22.75ZM16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.69 15.31 21.25 16 21.25C16.69 21.25 17.25 20.69 17.25 20C17.25 19.31 16.69 18.75 16 18.75Z'
                      fill='white'
                    />
                    <path
                      d='M22 14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.04 8.25 19 8.25H20.29C20.56 8.25 20.81 8.39 20.94 8.63L22.65 11.63C22.71 11.74 22.75 11.87 22.75 12V14C22.75 14.41 22.41 14.75 22 14.75ZM19 9.75C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H21.25V12.2L19.85 9.75H19Z'
                      fill='white'
                    />
                    <path
                      d='M8 8.75H2C1.59 8.75 1.25 8.41 1.25 8C1.25 7.59 1.59 7.25 2 7.25H8C8.41 7.25 8.75 7.59 8.75 8C8.75 8.41 8.41 8.75 8 8.75Z'
                      fill='white'
                    />
                    <path
                      d='M6 11.75H2C1.59 11.75 1.25 11.41 1.25 11C1.25 10.59 1.59 10.25 2 10.25H6C6.41 10.25 6.75 10.59 6.75 11C6.75 11.41 6.41 11.75 6 11.75Z'
                      fill='white'
                    />
                    <path
                      d='M4 14.75H2C1.59 14.75 1.25 14.41 1.25 14C1.25 13.59 1.59 13.25 2 13.25H4C4.41 13.25 4.75 13.59 4.75 14C4.75 14.41 4.41 14.75 4 14.75Z'
                      fill='white'
                    />
                  </svg>
                </div>
                <span>TRACK MY ORDER</span>
              </div>
              <div className={styles.arrowDiv}>
                <FaArrowRight />
              </div>
            </li>
            <div className={styles.cartBtns}>
              <button className={styles.logOutBtn} onClick={handleLogout}>
                LOGOUT
                <svg
                  width='24'
                  height='24'
                  viewBox='0 0 24 24'
                  fill='none'
                  xmlns='http://www.w3.org/2000/svg'
                >
                  <path
                    d='M17.4399 15.37C17.2499 15.37 17.0599 15.3 16.9099 15.15C16.6199 14.86 16.6199 14.38 16.9099 14.09L18.9399 12.06L16.9099 10.03C16.6199 9.74 16.6199 9.26 16.9099 8.97C17.1999 8.68 17.6799 8.68 17.9699 8.97L20.5299 11.53C20.8199 11.82 20.8199 12.3 20.5299 12.59L17.9699 15.15C17.8199 15.3 17.6299 15.37 17.4399 15.37Z'
                    fill='#FF0000'
                  />
                  <path
                    d='M19.93 12.81H9.76001C9.35001 12.81 9.01001 12.47 9.01001 12.06C9.01001 11.65 9.35001 11.31 9.76001 11.31H19.93C20.34 11.31 20.68 11.65 20.68 12.06C20.68 12.47 20.34 12.81 19.93 12.81Z'
                    fill='#FF0000'
                  />
                  <path
                    d='M11.76 20.75C6.61001 20.75 3.01001 17.15 3.01001 12C3.01001 6.85 6.61001 3.25 11.76 3.25C12.17 3.25 12.51 3.59 12.51 4C12.51 4.41 12.17 4.75 11.76 4.75C7.49001 4.75 4.51001 7.73 4.51001 12C4.51001 16.27 7.49001 19.25 11.76 19.25C12.17 19.25 12.51 19.59 12.51 20C12.51 20.41 12.17 20.75 11.76 20.75Z'
                    fill='#FF0000'
                  />
                </svg>
              </button>
            </div>
          </ul>
        </div>
      )}
    </div>
  );
}

export default UserNav;
